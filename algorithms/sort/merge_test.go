package sort

import (
	"sort"
	"testing"
)

func TestMergeSort(t *testing.T) {
	cases := []struct {
		input sort.IntSlice
	}{
		{[]int{2, 5, 6, 7, 4, 8, 9, 10}},
		{[]int{1, 2, 3, 3, 4, 5}},
		{[]int{3, 4, 1, 5, 0, 1, 2}},
		{[]int{9, 11, 17, 2, 6, 0, 10, 3, 13, 16, 18, 15, 5, 14, 4, 12, 8, 19, 1, 7}},
		{[]int{6, 7, 4, 13, 0, 8, 1, 3, 11, 16, 9, 19, 18, 15, 2, 12, 17, 14, 10, 5}},
		{[]int{7, 9, 3, 10, 16, 13, 17, 1, 11, 8, 5, 4, 12, 18, 6, 0, 19, 14, 2, 15}},
		{[]int{19, 18, 6, 3, 10, 1, 5, 4, 12, 7, 2, 13, 14, 15, 9, 8, 0, 16, 11, 17}},
		{[]int{17, 16, 3, 6, 8, 4, 14, 11, 18, 15, 10, 7, 12, 9, 0, 5, 19, 13, 2, 1}},
		{[]int{11, 9, 1, 5, 7, 8, 3, 18, 2, 13, 14, 16, 17, 15, 19, 4, 6, 10, 12, 0}},
		{[]int{12, 18, 8, 4, 19, 15, 14, 5, 0, 16, 9, 2, 11, 3, 6, 17, 10, 7, 13, 1}},
		{[]int{5, 8, 11, 18, 1, 13, 0, 6, 12, 10, 4, 14, 16, 3, 15, 19, 2, 9, 17, 7}},
		{[]int{18, 3, 0, 8, 12, 7, 5, 10, 19, 11, 2, 1, 13, 6, 17, 9, 14, 4, 15, 16}},
	}

	for _, tt := range cases {
		item := make([]int, len(tt.input))
		copy(item, tt.input)
		MergeSort(tt.input)

		if !sort.IsSorted(tt.input) {
			t.Errorf("merge(%v) = %v", item, tt.input)
		}
	}
}
